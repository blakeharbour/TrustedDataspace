<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
	<meta name="renderer" content="webkit|ie-comp|ie-stand">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
	<meta http-equiv="Cache-Control" content="no-siteapp" />
	<link rel="Bookmark" href="favicon.ico" >
	<link rel="Shortcut Icon" href="favicon.ico" />
	<!--[if lt IE 9]>
	<script type="text/javascript" src="/static/lib/html5.js"></script>
	<script type="text/javascript" src="/static/lib/respond.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" type="text/css" href="/static/static/h-ui/css/H-ui.min.css" />
	<link rel="stylesheet" type="text/css" href="/static/static/h-ui.admin.pro/css/h-ui.admin.pro.min.css" />
	<link rel="stylesheet" type="text/css" href="/static/lib/Hui-iconfont/1.0.8/iconfont.css" />
	<link rel="stylesheet" type="text/css" href="/static/static/business/css/style.css" />
	<!--[if IE 6]>
	<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
	<script>DD_belatedPNG.fix('*');</script><![endif]-->
	<!--/meta 作为公共模版分离出去-->

	<title>铁路隐私计算平台</title>
	<meta name="keywords" content="h-ui.admin.pro v1.0,H-ui网站后台模版,后台模版下载,后台管理系统模版,HTML后台模版下载">
	<meta name="description" content="h-ui.admin.pro v1.0，是一款由国人开发的轻量级扁平化网站后台模板，完全免费开源的网站后台管理系统模版，适合中小型CMS后台系统。">
</head>
<body>
<!--_menu 作为公共模版分离出去-->
	<aside class="Hui-admin-aside-wrapper">
		<div class="Hui-admin-logo-wrapper">
			<a class="logo navbar-logo" href="/aboutHui.shtml">
				<i class="va-m iconpic global-logo"></i>
				<span class="va-m">可信数据空间</span>
			</a>
		</div>
		<div class="Hui-admin-menu-dropdown bk_2">
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> 用户管理<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li ><a href="http://127.0.0.1:8000/user-list/" title="用户管理">用户管理</a></li>
					</ul>
				</dd>
			</dl>
			<dl id="menu-model" class="Hui-menu">
                <dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> 模型训练管理<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li ><a href="http://127.0.0.1:8000/model-list/" title="模型列表">模型列表</a></li>
					</ul>
					<ul>
						<li ><a href="http://127.0.0.1:8000/sample-alignment/" title="样本对齐情况">样本对齐情况</a></li>
					</ul>
					<ul>
						<li ><a href="http://127.0.0.1:8000/train-model/" title="模型训练结果查看">模型训练结果查看</a></li>
					</ul>
                </dd>
			</dl>
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> 模型应用<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/application_model-main/" title="模型使用">模型使用</a></li>
					</ul>
				</dd>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/application_result/" title="模型应用结果">模型应用结果</a></li>
					</ul>
				</dd>
			</dl>
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i>数据安全共享方法<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/wb-interface/" title="数据接口">数据接口</a></li>
					</ul>
				</dd>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/index/" title="隐私计算">隐私计算</a></li>
					</ul>
				</dd>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/mutiindex/" title="密文计算">密文计算</a></li>
					</ul>
				</dd>
			</dl>
		</div>
	</aside>

	<!--/_menu 作为公共模版分离出去-->
	<div class="Hui-admin-aside-mask"></div>

	<div class="Hui-admin-dislpayArrow">
		<a href="javascript:void(0);" onClick="displaynavbar(this)">
			<i class="Hui-iconfont Hui-iconfont-left">&#xe6d4;</i>
			<i class="Hui-iconfont Hui-iconfont-right">&#xe6d7;</i>
		</a>
	</div>
<section class="Hui-admin-article-wrapper">
		<!--_header 作为公共模版分离出去-->
		<header class="Hui-navbar">
			<div class="navbar">
				<div class="container-fluid clearfix">
          <nav id="Hui-topNav" class="nav navbar-nav">
            <ul class="clearfix">
{#              <li><a href="">顶部菜单</a></li>#}
              <li class="dropDown dropDown_hover">
{#                <a class="dropDown_A" href="javascript:;">顶部菜单</a>#}
                <ul class="dropDown-menu menu radius box-shadow">
                  <li class="">
                    <a href="#">二级导航</a>
                  </li>
                  <li class="">
                    <a href="#">二级导航</a>
                  </li>
                </ul>
              </li>
            </ul>
          </nav>
					<nav id="Hui-userbar" class="nav navbar-nav navbar-userbar">
						<ul class="clearfix">
{#							<li>超级管理员</li>#}
							<li class="dropDown dropDown_hover"> <a href="#" class="dropDown_A">admin <i class="Hui-iconfont">&#xe6d5;</i></a>
								<ul class="dropDown-menu menu radius box-shadow">
									<li><a href="javascript:;" onClick="myselfinfo()">个人信息</a></li>
									<li><a href="#">切换账户</a></li>
									<li><a href="#">退出</a></li>
								</ul>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</header>
    <nav class="breadcrumb" style="background-color:#fff;padding: 0 24px">
				首页
				<span class="c-gray en">/</span>
				数据共享方法
				<span class="c-gray en">/</span>
				数据接口
        <span class="c-gray en">/</span>
				编辑接口
			</nav>
	<article class="clearfix pd-20">
		<form action="" method="post" class="form form-horizontal" id="form-member-add">
			<div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>接口名称：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="webname" name="webname">
				</div>
			</div>
            <div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>接口地址（URL）：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="weburl" name="weburl">
				</div>
			</div>
			<div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>接口协议：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="webprotocol" name="webprotocol">
				</div>
			</div>
            <div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>接口类型：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="webtype" name="webtype">
				</div>
			</div>
            <div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>响应格式：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="datatype" name="datatype">
				</div>
			</div>
            <div class="row clearfix">
				<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>访问授权范围：</label>
				<div class="form-controls col-xs-8 col-sm-9">
					<input type="text" class="input-text" value="" placeholder="" id="comallowed" name="comallowed">
				</div>
			</div>
			<div class="row clearfix">
				<div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
					<input class="btn btn-primary radius" type="button" onclick="submit_order()" value="&nbsp;&nbsp;提交&nbsp;&nbsp;">
				</div>
			</div>
		</form>
	</article>
</section>

	<!--_footer 作为公共模版分离出去-->
	<script type="text/javascript" src="/static/lib/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="/static/lib/layer/2.4/layer.js"></script>
	<script type="text/javascript" src="/static/static/h-ui/js/H-ui.min.js"></script>
	<script type="text/javascript" src="/static/static/h-ui.admin.pro/js/h-ui.admin.pro.min.js"></script>
	<!--/_footer /作为公共模版分离出去-->

	<!--请在下方写此页面业务相关的脚本-->
	<script type="text/javascript" src="/static/lib/jquery.validation/1.14.0/jquery.validate.js"></script>
	<script type="text/javascript" src="/static/lib/jquery.validation/1.14.0/validate-methods.js"></script>
	<script type="text/javascript" src="/static/lib/jquery.validation/1.14.0/messages_zh.js"></script>
	<script type="text/javascript">
         $(function () {
                var getData = sessionStorage.getItem("id");
                console.log(getData)
                {#将json字符串转化为json对象#}
                var id = $.parseJSON(getData);
                console.log(id)
                var wbdic={
                        id:id
                    };
                var wbdata = JSON.stringify(wbdic)
                $.ajax({
                    type: "post",
                    url: "http://127.0.0.1:8000/searchoneinterface/" ,//接口地址
                    dataType:'json',
                    data: wbdata,
                    success: function (res) {
                        console.log("res385:");
                        console.log(res);
                        result = res.data;
                        console.log(result)
                        $("#webname").val(result[0][1]);
                        $("#weburl").val(result[0][2]);
                        $("#webprotocol").val(result[0][3]);
                        $("#webtype").val(result[0][4]);
                        $("#datatype").val(result[0][5]);
                        $("#comallowed").val(result[0][6]);
                    },
                })
            });

		function submit_order() {
			var webname=$("#webname").val();
			var weburl = $("#weburl").val();
			var webprotocol=$("#webprotocol").val();
            var webtype=$("#webtype").val();
            var datatype=$("#datatype").val();
            var comallowed=$("#comallowed").val();
			if(webname==""){
				alert("用户名不能为空");
				$("#webname").focus();
				return false
			}
			var webinfo=[];
			var webdic={
			    webname:webname,
                weburl:weburl,
                webprotocol:webprotocol,
                webtype:webtype,
                datatype:datatype,
                comallowed:comallowed,
            };
			webinfo.push(webdic);
			console.log(webinfo);
			var webdata = JSON.stringify(webinfo)
            var getData = sessionStorage.getItem("id");
            console.log(getData)
            {#将json字符串转化为json对象#}
            var id = $.parseJSON(getData);
            sessionStorage.removeItem("id");
            var wbdic={
                    id:id
                };
            var wbdata = JSON.stringify(wbdic)
            $.ajax({
					type: 'post',
					url: 'http://127.0.0.1:8000/deleteinterface/',
					dataType: 'json',
					data: wbdata,
					success: function (data) {
                        console.log("data",data.status);
					},
					error: function (data) {
						console.log("data",data);
					},
				})

			$.ajax({
				type:"post",
				url:"http://127.0.0.1:8000/createinterface/",
				data:webdata,
				dataType:"json",
				success:function (res) {
					console.log("res",res)
					if(res.status=="0"){
						alert("修改成功");
						location.href="http://127.0.0.1:8000/wb-interface/"
					}else{
						alert("出现错误")
					}
				}
			})
		}
	</script>
	<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>
