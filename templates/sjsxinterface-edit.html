<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit|ie-comp|ie-stand">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="stylesheet" type="text/css" href="/static/static/h-ui/css/H-ui.min.css" />
  <link rel="stylesheet" type="text/css" href="/static/static/h-ui.admin.pro/css/h-ui.admin.pro.min.css" />
  <link rel="stylesheet" type="text/css" href="/static/lib/Hui-iconfont/1.0.8/iconfont.css" />
  <link rel="stylesheet" type="text/css" href="/static/static/h-ui.admin.pro/skin/default/skin.css" id="skin" />
  <link rel="stylesheet" type="text/css" href="/static/static/business/css/style.css" />
  <title>æ–°å¢æ•°æ®æ²™ç®±</title>
</head>
<body>
<style>
    #menu-guest .Hui-menu-title,
    #menu-guest .Hui-menu-item a {
        color: #FFFFFF !important;  /* äº®ç™½è‰² */
        text-shadow: 0 1px 2px rgba(0,0,0,0.2); /* å¢åŠ æ–‡å­—å¯¹æ¯”åº¦ */
    }

    #menu-data-confirmation .Hui-menu-title,
    #menu-data-confirmation .Hui-menu-item a {
        color: #FFFFFF !important;  /* äº®ç™½è‰² */
        text-shadow: 0 1px 2px rgba(0,0,0,0.2); /* å¢åŠ æ–‡å­—å¯¹æ¯”åº¦ */
    }
    </style>

	<!--_menu ä½œä¸ºå…¬å…±æ¨¡ç‰ˆåˆ†ç¦»å‡ºå»-->
	<aside class="Hui-admin-aside-wrapper">
		<div class="Hui-admin-logo-wrapper">
			<a class="logo navbar-logo" href="/aboutHui.shtml">
				<i class="va-m iconpic global-logo"></i>
				<span class="va-m">å¯ä¿¡æ•°æ®ç©ºé—´</span>
			</a>
		</div>
		<div class="Hui-admin-menu-dropdown bk_2">
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> ç”¨æˆ·ç®¡ç†<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/user-list/" title="ç”¨æˆ·ç®¡ç†">ç”¨æˆ·ç®¡ç†</a></li>
					</ul>
				</dd>
			</dl>
            <dl id="menu-data-confirmation" class="Hui-menu">
              <dt class="Hui-menu-title"><i class="Hui-iconfont">&#xe616;</i> æ•°æ®ç¡®æƒ<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
              <dd class="Hui-menu-item" style="display:block">
                <ul>
                  <li><a href="http://127.0.0.1:8000/data-confirmation/" title="æ•°æ®ç¡®æƒ">æ•°æ®ç¡®æƒ</a></li>
                </ul>
              </dd>
            </dl>

            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> æ•°æ®ç®¡ç†<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/data_asset_list/" title="æ•°æ®åˆ—è¡¨">æ•°æ®åˆ—è¡¨</a></li>
					</ul>
				</dd>

			</dl>
             <dl id="menu-guest" class="Hui-menu">
                <dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> é¡¹ç›®ä¿¡æ¯ç®¡ç†<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
                <dd class="Hui-menu-item" style="display:block">
                    <ul>
                        <li><a href="http://127.0.0.1:8000/established_project/" title="å·²å»ºç«‹é¡¹ç›®">å·²å»ºç«‹é¡¹ç›®</a></li>
                    </ul>
                    <ul>
                        <li><a href="http://127.0.0.1:8000/pengding_project/" title="å¾…æ¥å—é¡¹ç›®">å¾…æ¥å—é¡¹ç›®</a></li>
                    </ul>
                </dd>
            </dl>
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i> å­˜è¯ä¿¡æ¯ç®¡ç†<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/records/" title="æ•°æ®å­˜è¯ä¿¡æ¯">æ•°æ®å­˜è¯ä¿¡æ¯</a></li>
					</ul>
				</dd>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/project_notarization/" title="é¡¹ç›®å­˜è¯ä¿¡æ¯">é¡¹ç›®å­˜è¯ä¿¡æ¯</a></li>
					</ul>
				</dd>
			</dl>
            <dl id="menu-guest" class="Hui-menu">
				<dt class="Hui-menu-title selected"><i class="Hui-iconfont">&#xe60d;</i>æ•°æ®å®‰å…¨å…±äº«æ–¹æ³•<i class="Hui-iconfont Hui-admin-menu-dropdown-arrow">&#xe6d5;</i></dt>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/wb-interface/" title="æ•°æ®æ¥å£">æ•°æ®æ¥å£</a></li>
					</ul>
				</dd>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li class="current"><a href="http://127.0.0.1:8000/sjsx-interface/" title="æ•°æ®æ²™ç®±">æ•°æ®æ²™ç®±</a></li>
					</ul>
				</dd>
				<dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/guest-list/" title="éšç§è®¡ç®—">éšç§è®¡ç®—</a></li>
					</ul>
				</dd>
                <dd class="Hui-menu-item" style="display:block">
					<ul>
						<li><a href="http://127.0.0.1:8000/multguest-list/" title="å¯†æ–‡è®¡ç®—">å¯†æ–‡è®¡ç®—</a></li>
					</ul>
				</dd>
			</dl>
		</div>
	</aside>
<div class="Hui-admin-dislpayArrow">
  <a href="javascript:void(0);" onClick="displaynavbar(this)">
    <i class="Hui-iconfont Hui-iconfont-left">&#xe6d4;</i>
    <i class="Hui-iconfont Hui-iconfont-right">&#xe6d7;</i>
  </a>
</div>
<section class="Hui-admin-article-wrapper">
  <header class="Hui-navbar">
    <div class="navbar">
      <div class="container-fluid clearfix">
        <nav class="nav navbar-nav"></nav>
        <nav class="nav navbar-nav navbar-userbar">

        </nav>
      </div>
    </div>
  </header>
  <article class="clearfix pd-20">
    <nav class="breadcrumb" style="background-color:#fff;padding: 0 24px">
      é¦–é¡µ <span class="c-gray en">/</span> æ•°æ®å…±äº«æ–¹æ³• <span class="c-gray en">/</span> æ–°å¢æ•°æ®æ²™ç®±
    </nav>
    <form action="" method="post" class="form form-horizontal" id="form-sandbox-add">
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>æ²™ç®±åˆ›å»ºäººï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="text" class="input-text" id="creator" name="creator" placeholder="è¯·è¾“å…¥æ²™ç®±åˆ›å»ºäºº">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>åˆ›å»ºæ—¶é—´ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="datetime-local" class="input-text" id="createTime" name="createTime">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>æ•°æ®è®¿é—®è·¯å¾„ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="text" class="input-text" id="dataPath" name="dataPath" placeholder="è¯·è¾“å…¥æ•°æ®è®¿é—®URLæˆ–æ–‡ä»¶è·¯å¾„">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>æ‰€å­˜èµ„äº§é¡¹åç§°ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="text" class="input-text" id="assetName" name="assetName" placeholder="ä¾‹å¦‚ï¼šè½¦è¾†æ€»é‡ã€æ—¶åˆ»è¡¨ç­‰">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>æ²™ç®±æœ‰æ•ˆæœŸï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="date" class="input-text" id="validUntil" name="validUntil">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3">åŠ å¯†ç®—æ³•è¯´æ˜ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="text" class="input-text" id="encryption" name="encryption" placeholder="å¦‚ AES256, RSA, å“ˆå¸Œç®—æ³•ç­‰">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3">è®¿é—®æˆæƒèŒƒå›´ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <input type="text" class="input-text" id="accessRange" name="accessRange" placeholder="å¦‚ é“è·¯å±€ã€è°ƒåº¦æ‰€ ç­‰æˆæƒæ–¹">
        </div>
      </div>
      <div class="row clearfix">
        <label class="form-label col-xs-4 col-sm-3">æ²™ç®±é”€æ¯ç­–ç•¥ï¼š</label>
        <div class="form-controls col-xs-8 col-sm-9">
          <textarea class="textarea" id="destroyPolicy" name="destroyPolicy" placeholder="å¦‚ è¶…æ—¶è‡ªåŠ¨é”€æ¯ / ä½¿ç”¨åç«‹å³é”€æ¯ / ç®¡ç†å‘˜å®¡æ ¸é”€æ¯"></textarea>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
          <input class="btn btn-primary radius" type="button" onclick="submitSandbox()" value="&nbsp;&nbsp;æ–°å¢æ•°æ®æ²™ç®±&nbsp;&nbsp;">
        </div>
      </div>
    </form>
  </article>
</section>
<script type="text/javascript" src="/static/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="/static/lib/layer/2.4/layer.js"></script>
<script>
    
   

   $(function () {
                var getData = sessionStorage.getItem("confirmman");
                console.log(getData)
                {#å°†jsonå­—ç¬¦ä¸²è½¬åŒ–ä¸ºjsonå¯¹è±¡#}
                var confirmman = $.parseJSON(getData);
                console.log(confirmman)
                var wbdic={
                        confirmman:confirmman
                    };
                var wbdata = JSON.stringify(wbdic)
                $.ajax({
                    type: "post",
                    url: "http://127.0.0.1:8000/sysxsearchoneinterface/" ,//æ¥å£åœ°å€
                    dataType:'json',
                    data: wbdata,
                    success: function (res) {
                        console.log("res385:");
                        console.log(res);
                        result = res.data;
                        console.log(result)
                        $("#confirmman").val(result[0][1]);
                        $("#confirmtime").val(result[0][2]);
                        $("#saveurl").val(result[0][3]);
                        $("#zichanname").val(result[0][4]);
                        $("#staytime").val(result[0][5]);
                        $("#jiamipro").val(result[0][6]);
                        $("#autoscope").val(result[0][7]);
                        $("#delchannle").val(result[0][8]);
                    },
                })
            }); 
    
  function submitSandbox() {
  const confirmman = $("#creator").val();         // æ²™ç®±åˆ›å»ºäºº
  const confirmtime = $("#createTime").val();     // åˆ›å»ºæ—¶é—´
  const saveurl = $("#dataPath").val();           // æ•°æ®è®¿é—®è·¯å¾„
  const zichanname = $("#assetName").val();       // æ‰€å­˜èµ„äº§é¡¹åç§°
  const staytime = $("#validUntil").val();        // æ²™ç®±æœ‰æ•ˆæœŸ
  const jiamipro = $("#encryption").val();        // åŠ å¯†ç®—æ³•è¯´æ˜
  const autoscope = $("#accessRange").val();      // è®¿é—®æˆæƒèŒƒå›´
  const delchannle = $("#destroyPolicy").val();   // æ²™ç®±é”€æ¯ç­–ç•¥

  if (confirmman === "") {
    alert("æ²™ç®±åˆ›å»ºäººä¸èƒ½ä¸ºç©º");
    $("#creator").focus();
    return false;
  }

  // ğŸ‘‰ ç¬¬ä¸€æ­¥ï¼šè·å–æ—§çš„ idï¼ˆå³ saveurlï¼‰ï¼Œæ‰§è¡Œåˆ é™¤
  const getData = sessionStorage.getItem("confirmman");
  console.log("è·å– session ä¸­çš„ confirmman:", getData);
  const confirmman1 = $.parseJSON(getData);
  sessionStorage.removeItem("confirmman1");

  const deleteBody = JSON.stringify({ confirmman1: confirmman1 });

  $.ajax({
    type: 'post',
    url: 'http://127.0.0.1:8000/sysxdeleteinterface/',
    dataType: 'json',
    data: deleteBody,
    contentType: 'application/json',
    success: function (data) {
      console.log("åˆ é™¤ç»“æœ:", data.status);

      // ğŸ‘‰ ç¬¬äºŒæ­¥ï¼šåˆ é™¤æˆåŠŸåæ‰§è¡Œæ–°å¢
      const dataObj = {
        confirmman: confirmman,
        confirmtime: confirmtime,
        saveurl: saveurl,
        zichanname: zichanname,
        staytime: staytime,
        jiamipro: jiamipro,
        autoscope: autoscope,
        delchannle: delchannle
      };

      $.ajax({
        type: "post",
        url: "http://127.0.0.1:8000/create-sandbox/",
        data: JSON.stringify(dataObj),
        contentType: "application/json",
        dataType: "json",
        success: function (res) {
          console.log("æäº¤æˆåŠŸï¼š", res);
          if (res.status === 0) {
            layer.msg("ç¼–è¾‘æˆåŠŸï¼Œæ•°æ®å·²æ›´æ–°", { icon: 1 });
            setTimeout(() => {
              window.location.href = "/sjsx-interface/";
            }, 1000);
          } else {
            layer.alert("æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®");
          }
        },
        error: function (err) {
          console.error("æäº¤é”™è¯¯ï¼š", err);
        }
      });

    },
    error: function (err) {
      console.error("åˆ é™¤å¤±è´¥ï¼š", err);
    }
  });
}


</script>
</body>
</html>